<html lang="en">
<head>
<title>PowerPC AltiVec/VSX Built-in Functions - Using the GNU Compiler Collection (GCC)</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Using the GNU Compiler Collection (GCC)">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Target-Builtins.html#Target-Builtins" title="Target Builtins">
<link rel="prev" href="Basic-PowerPC-Built_002din-Functions.html#Basic-PowerPC-Built_002din-Functions" title="Basic PowerPC Built-in Functions">
<link rel="next" href="PowerPC-Hardware-Transactional-Memory-Built_002din-Functions.html#PowerPC-Hardware-Transactional-Memory-Built_002din-Functions" title="PowerPC Hardware Transactional Memory Built-in Functions">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1988-2022 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``Funding Free Software'', the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.

(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="PowerPC-AltiVec%2fVSX-Built-in-Functions"></a>
<a name="PowerPC-AltiVec_002fVSX-Built_002din-Functions"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="PowerPC-Hardware-Transactional-Memory-Built_002din-Functions.html#PowerPC-Hardware-Transactional-Memory-Built_002din-Functions">PowerPC Hardware Transactional Memory Built-in Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Basic-PowerPC-Built_002din-Functions.html#Basic-PowerPC-Built_002din-Functions">Basic PowerPC Built-in Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Target-Builtins.html#Target-Builtins">Target Builtins</a>
<hr>
</div>

<h4 class="subsection">6.60.23 PowerPC AltiVec/VSX Built-in Functions</h4>

<p>GCC provides an interface for the PowerPC family of processors to access
the AltiVec operations described in Motorola's AltiVec Programming
Interface Manual.  The interface is made available by including
<code>&lt;altivec.h&gt;</code> and using <samp><span class="option">-maltivec</span></samp> and
<samp><span class="option">-mabi=altivec</span></samp>.  The interface supports the following vector
types.

<pre class="smallexample">     vector unsigned char
     vector signed char
     vector bool char
     
     vector unsigned short
     vector signed short
     vector bool short
     vector pixel
     
     vector unsigned int
     vector signed int
     vector bool int
     vector float
</pre>
 <p>GCC's implementation of the high-level language interface available from
C and C++ code differs from Motorola's documentation in several ways.

     <ul>
<li>A vector constant is a list of constant expressions within curly braces.

     <li>A vector initializer requires no cast if the vector constant is of the
same type as the variable it is initializing.

     <li>If <code>signed</code> or <code>unsigned</code> is omitted, the signedness of the
vector type is the default signedness of the base type.  The default
varies depending on the operating system, so a portable program should
always specify the signedness.

     <li>Compiling with <samp><span class="option">-maltivec</span></samp> adds keywords <code>__vector</code>,
<code>vector</code>, <code>__pixel</code>, <code>pixel</code>, <code>__bool</code> and
<code>bool</code>.  When compiling ISO C, the context-sensitive substitution
of the keywords <code>vector</code>, <code>pixel</code> and <code>bool</code> is
disabled.  To use them, you must include <code>&lt;altivec.h&gt;</code> instead.

     <li>GCC allows using a <code>typedef</code> name as the type specifier for a
vector type, but only under the following circumstances:

          <ul>
<li>When using <code>__vector</code> instead of <code>vector</code>; for example,

          <pre class="smallexample">               typedef signed short int16;
               __vector int16 data;
          </pre>
          <li>When using <code>vector</code> in keyword-and-predefine mode; for example,

          <pre class="smallexample">               typedef signed short int16;
               vector int16 data;
          </pre>
          <p>Note that keyword-and-predefine mode is enabled by disabling GNU
extensions (e.g., by using <code>-std=c11</code>) and including
<code>&lt;altivec.h&gt;</code>. 
</ul>

     <li>For C, overloaded functions are implemented with macros so the following
does not work:

     <pre class="smallexample">            vec_add ((vector signed int){1, 2, 3, 4}, foo);
     </pre>
     <p class="noindent">Since <code>vec_add</code> is a macro, the vector constant in the example
is treated as four separate arguments.  Wrap the entire argument in
parentheses for this to work. 
</ul>

 <p><em>Note:</em> Only the <code>&lt;altivec.h&gt;</code> interface is supported. 
Internally, GCC uses built-in functions to achieve the functionality in
the aforementioned header file, but they are not supported and are
subject to change without notice.

 <p>GCC complies with the Power Vector Intrinsic Programming Reference (PVIPR),
which may be found at
<a href="https://openpowerfoundation.org/?resource_lib=power-vector-intrinsic-programming-reference">https://openpowerfoundation.org/?resource_lib=power-vector-intrinsic-programming-reference</a>. 
Chapter 4 of this document fully documents the vector API interfaces
that must be
provided by compliant compilers.  Programmers should preferentially use
the interfaces described therein.  However, historically GCC has provided
additional interfaces for access to vector instructions.  These are
briefly described below.  Where the PVIPR provides a portable interface,
other functions in GCC that provide the same capabilities should be
considered deprecated.

 <p>The PVIPR documents the following overloaded functions:

 <p><table summary="">
<tr align="left"><td valign="top" width="33%"><code>vec_abs</code>
</td><td valign="top" width="33%"><code>vec_absd</code>
</td><td valign="top" width="33%"><code>vec_abss</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_add</code>
</td><td valign="top" width="33%"><code>vec_addc</code>
</td><td valign="top" width="33%"><code>vec_adde</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_addec</code>
</td><td valign="top" width="33%"><code>vec_adds</code>
</td><td valign="top" width="33%"><code>vec_all_eq</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_all_ge</code>
</td><td valign="top" width="33%"><code>vec_all_gt</code>
</td><td valign="top" width="33%"><code>vec_all_in</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_all_le</code>
</td><td valign="top" width="33%"><code>vec_all_lt</code>
</td><td valign="top" width="33%"><code>vec_all_nan</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_all_ne</code>
</td><td valign="top" width="33%"><code>vec_all_nge</code>
</td><td valign="top" width="33%"><code>vec_all_ngt</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_all_nle</code>
</td><td valign="top" width="33%"><code>vec_all_nlt</code>
</td><td valign="top" width="33%"><code>vec_all_numeric</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_and</code>
</td><td valign="top" width="33%"><code>vec_andc</code>
</td><td valign="top" width="33%"><code>vec_any_eq</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_any_ge</code>
</td><td valign="top" width="33%"><code>vec_any_gt</code>
</td><td valign="top" width="33%"><code>vec_any_le</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_any_lt</code>
</td><td valign="top" width="33%"><code>vec_any_nan</code>
</td><td valign="top" width="33%"><code>vec_any_ne</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_any_nge</code>
</td><td valign="top" width="33%"><code>vec_any_ngt</code>
</td><td valign="top" width="33%"><code>vec_any_nle</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_any_nlt</code>
</td><td valign="top" width="33%"><code>vec_any_numeric</code>
</td><td valign="top" width="33%"><code>vec_any_out</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_avg</code>
</td><td valign="top" width="33%"><code>vec_bperm</code>
</td><td valign="top" width="33%"><code>vec_ceil</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_cipher_be</code>
</td><td valign="top" width="33%"><code>vec_cipherlast_be</code>
</td><td valign="top" width="33%"><code>vec_cmpb</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_cmpeq</code>
</td><td valign="top" width="33%"><code>vec_cmpge</code>
</td><td valign="top" width="33%"><code>vec_cmpgt</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_cmple</code>
</td><td valign="top" width="33%"><code>vec_cmplt</code>
</td><td valign="top" width="33%"><code>vec_cmpne</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_cmpnez</code>
</td><td valign="top" width="33%"><code>vec_cntlz</code>
</td><td valign="top" width="33%"><code>vec_cntlz_lsbb</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_cnttz</code>
</td><td valign="top" width="33%"><code>vec_cnttz_lsbb</code>
</td><td valign="top" width="33%"><code>vec_cpsgn</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_ctf</code>
</td><td valign="top" width="33%"><code>vec_cts</code>
</td><td valign="top" width="33%"><code>vec_ctu</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_div</code>
</td><td valign="top" width="33%"><code>vec_double</code>
</td><td valign="top" width="33%"><code>vec_doublee</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_doubleh</code>
</td><td valign="top" width="33%"><code>vec_doublel</code>
</td><td valign="top" width="33%"><code>vec_doubleo</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_eqv</code>
</td><td valign="top" width="33%"><code>vec_expte</code>
</td><td valign="top" width="33%"><code>vec_extract</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_extract_exp</code>
</td><td valign="top" width="33%"><code>vec_extract_fp32_from_shorth</code>
</td><td valign="top" width="33%"><code>vec_extract_fp32_from_shortl</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_extract_sig</code>
</td><td valign="top" width="33%"><code>vec_extract_4b</code>
</td><td valign="top" width="33%"><code>vec_first_match_index</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_first_match_or_eos_index</code>
</td><td valign="top" width="33%"><code>vec_first_mismatch_index</code>
</td><td valign="top" width="33%"><code>vec_first_mismatch_or_eos_index</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_float</code>
</td><td valign="top" width="33%"><code>vec_float2</code>
</td><td valign="top" width="33%"><code>vec_floate</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_floato</code>
</td><td valign="top" width="33%"><code>vec_floor</code>
</td><td valign="top" width="33%"><code>vec_gb</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_insert</code>
</td><td valign="top" width="33%"><code>vec_insert_exp</code>
</td><td valign="top" width="33%"><code>vec_insert4b</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_ld</code>
</td><td valign="top" width="33%"><code>vec_lde</code>
</td><td valign="top" width="33%"><code>vec_ldl</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_loge</code>
</td><td valign="top" width="33%"><code>vec_madd</code>
</td><td valign="top" width="33%"><code>vec_madds</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_max</code>
</td><td valign="top" width="33%"><code>vec_mergee</code>
</td><td valign="top" width="33%"><code>vec_mergeh</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_mergel</code>
</td><td valign="top" width="33%"><code>vec_mergeo</code>
</td><td valign="top" width="33%"><code>vec_mfvscr</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_min</code>
</td><td valign="top" width="33%"><code>vec_mradds</code>
</td><td valign="top" width="33%"><code>vec_msub</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_msum</code>
</td><td valign="top" width="33%"><code>vec_msums</code>
</td><td valign="top" width="33%"><code>vec_mtvscr</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_mul</code>
</td><td valign="top" width="33%"><code>vec_mule</code>
</td><td valign="top" width="33%"><code>vec_mulo</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_nabs</code>
</td><td valign="top" width="33%"><code>vec_nand</code>
</td><td valign="top" width="33%"><code>vec_ncipher_be</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_ncipherlast_be</code>
</td><td valign="top" width="33%"><code>vec_nearbyint</code>
</td><td valign="top" width="33%"><code>vec_neg</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_nmadd</code>
</td><td valign="top" width="33%"><code>vec_nmsub</code>
</td><td valign="top" width="33%"><code>vec_nor</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_or</code>
</td><td valign="top" width="33%"><code>vec_orc</code>
</td><td valign="top" width="33%"><code>vec_pack</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_pack_to_short_fp32</code>
</td><td valign="top" width="33%"><code>vec_packpx</code>
</td><td valign="top" width="33%"><code>vec_packs</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_packsu</code>
</td><td valign="top" width="33%"><code>vec_parity_lsbb</code>
</td><td valign="top" width="33%"><code>vec_perm</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_permxor</code>
</td><td valign="top" width="33%"><code>vec_pmsum_be</code>
</td><td valign="top" width="33%"><code>vec_popcnt</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_re</code>
</td><td valign="top" width="33%"><code>vec_recipdiv</code>
</td><td valign="top" width="33%"><code>vec_revb</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_reve</code>
</td><td valign="top" width="33%"><code>vec_rint</code>
</td><td valign="top" width="33%"><code>vec_rl</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_rlmi</code>
</td><td valign="top" width="33%"><code>vec_rlnm</code>
</td><td valign="top" width="33%"><code>vec_round</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_rsqrt</code>
</td><td valign="top" width="33%"><code>vec_rsqrte</code>
</td><td valign="top" width="33%"><code>vec_sbox_be</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_sel</code>
</td><td valign="top" width="33%"><code>vec_shasigma_be</code>
</td><td valign="top" width="33%"><code>vec_signed</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_signed2</code>
</td><td valign="top" width="33%"><code>vec_signede</code>
</td><td valign="top" width="33%"><code>vec_signedo</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_sl</code>
</td><td valign="top" width="33%"><code>vec_sld</code>
</td><td valign="top" width="33%"><code>vec_sldw</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_sll</code>
</td><td valign="top" width="33%"><code>vec_slo</code>
</td><td valign="top" width="33%"><code>vec_slv</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_splat</code>
</td><td valign="top" width="33%"><code>vec_splat_s8</code>
</td><td valign="top" width="33%"><code>vec_splat_s16</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_splat_s32</code>
</td><td valign="top" width="33%"><code>vec_splat_u8</code>
</td><td valign="top" width="33%"><code>vec_splat_u16</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_splat_u32</code>
</td><td valign="top" width="33%"><code>vec_splats</code>
</td><td valign="top" width="33%"><code>vec_sqrt</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_sr</code>
</td><td valign="top" width="33%"><code>vec_sra</code>
</td><td valign="top" width="33%"><code>vec_srl</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_sro</code>
</td><td valign="top" width="33%"><code>vec_srv</code>
</td><td valign="top" width="33%"><code>vec_st</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_ste</code>
</td><td valign="top" width="33%"><code>vec_stl</code>
</td><td valign="top" width="33%"><code>vec_sub</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_subc</code>
</td><td valign="top" width="33%"><code>vec_sube</code>
</td><td valign="top" width="33%"><code>vec_subec</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_subs</code>
</td><td valign="top" width="33%"><code>vec_sum2s</code>
</td><td valign="top" width="33%"><code>vec_sum4s</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_sums</code>
</td><td valign="top" width="33%"><code>vec_test_data_class</code>
</td><td valign="top" width="33%"><code>vec_trunc</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_unpackh</code>
</td><td valign="top" width="33%"><code>vec_unpackl</code>
</td><td valign="top" width="33%"><code>vec_unsigned</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_unsigned2</code>
</td><td valign="top" width="33%"><code>vec_unsignede</code>
</td><td valign="top" width="33%"><code>vec_unsignedo</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_xl</code>
</td><td valign="top" width="33%"><code>vec_xl_be</code>
</td><td valign="top" width="33%"><code>vec_xl_len</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_xl_len_r</code>
</td><td valign="top" width="33%"><code>vec_xor</code>
</td><td valign="top" width="33%"><code>vec_xst</code>
<br></td></tr><tr align="left"><td valign="top" width="33%"><code>vec_xst_be</code>
</td><td valign="top" width="33%"><code>vec_xst_len</code>
</td><td valign="top" width="33%"><code>vec_xst_len_r</code>

 <br></td></tr></table>

<ul class="menu">
<li><a accesskey="1" href="PowerPC-AltiVec-Built_002din-Functions-on-ISA-2_002e05.html#PowerPC-AltiVec-Built_002din-Functions-on-ISA-2_002e05">PowerPC AltiVec Built-in Functions on ISA 2.05</a>
<li><a accesskey="2" href="PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-2_002e06.html#PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-2_002e06">PowerPC AltiVec Built-in Functions Available on ISA 2.06</a>
<li><a accesskey="3" href="PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-2_002e07.html#PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-2_002e07">PowerPC AltiVec Built-in Functions Available on ISA 2.07</a>
<li><a accesskey="4" href="PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e0.html#PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e0">PowerPC AltiVec Built-in Functions Available on ISA 3.0</a>
<li><a accesskey="5" href="PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e1.html#PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e1">PowerPC AltiVec Built-in Functions Available on ISA 3.1</a>
</ul>

 </body></html>

